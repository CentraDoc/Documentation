<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Liberty Systems CentraDoc: FFs Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="centradoc.png"/></td>
  <td id="projectalign">
   <div id="projectname">Liberty Systems CentraDoc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_f_fs.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="class_f_fs-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FFs Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>ref <a class="el" href="class_f_fs.html" title="ref FFs, IFFs, IFFsFactory and the C API starting with FFs_ in ffs/ffs.h">FFs</a>, <a class="el" href="struct_i_f_fs.html">IFFs</a>, <a class="el" href="struct_i_f_fs_factory.html">IFFsFactory</a> and the C API starting with <b>FFs_</b> in <a class="el" href="ffs_8h.html">ffs/ffs.h</a>  
 <a href="class_f_fs.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ffs_8h_source.html">ffs.h</a>&quot;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >ref <a class="el" href="class_f_fs.html" title="ref FFs, IFFs, IFFsFactory and the C API starting with FFs_ in ffs/ffs.h">FFs</a>, <a class="el" href="struct_i_f_fs.html">IFFs</a>, <a class="el" href="struct_i_f_fs_factory.html">IFFsFactory</a> and the C API starting with <b>FFs_</b> in <a class="el" href="ffs_8h.html">ffs/ffs.h</a> </p>
<p >Filtered File system abstract class; some methods are not implemented.</p>
<p ><a class="el" href="class_f_fs.html" title="ref FFs, IFFs, IFFsFactory and the C API starting with FFs_ in ffs/ffs.h">FFs</a> classes are buffer based.</p>
<p ><a class="el" href="class_f_fs.html" title="ref FFs, IFFs, IFFsFactory and the C API starting with FFs_ in ffs/ffs.h">FFs</a> classes are throwing errors, using error numbers straight out of errno.h this may conflict with existing or future error management schemes. which codes are in an arbitrary errno.h might be unpredictable</p>
<p >The most likely to be useful error numbers, which are standard and present in both VC++ and Borland errno.h ENOSPC - no space - out of space on device ENOMEM - no memory - out of memory ENOENT - no entry - file not found EEXIST - exists - file already exists ENOTDIR - not a directory EISDIR - is a directory EIO - i/o error EACCESS - not accessible - permission denied ERANGE - range error - math result not representable EPERM - not permitted - operation not permitted EINVAL - invalid - invalid function number</p>
<p >implementer constructor must set FFS_READ/FFS_WRITE/FFS_RANDOM in flags, as appropriate.</p>
<p >implementer constructor should call Make if default construction (which allocates Buffer) is appropriate. Super.Destruct will free it.</p>
<p >implementer <em>must</em> override fill_ drain_</p>
<p >fill_ fills the Buffer to BufferLen and must set ReadPtr and ReadLimit, and should set ReadPtr to 0 on EOF. drain_ drains the Buffer to WritePtr drain_ and fill_ return success or failure: BUT THE RETURN VALUES ARE NOT ACTIVELY USED ANYWHERE* THROW if an error occurs</p>
<p >implementer should override Flush - default does a drain if FFS_WRITE and writes are buffered.</p><ul>
<li>PLRM spec specifies flush of a read file reads until EOD</li>
</ul>
<p >PLRM spec also specifies a file can be statused after Close Close and Status methods added, but implementation is slippery.</p>
<p >Some confusion in the previous <a class="el" href="class_f_fs.html" title="ref FFs, IFFs, IFFsFactory and the C API starting with FFs_ in ffs/ffs.h">FFs</a> system about flushing a read file This might be appropriate for inline filters, if we want to get to the end - additional confusion about reading to end of file on destruct - this should not be required</p>
<p >and if IsRandom, overide Reset - default calls Seek(self, 0, 0) Seek - default THROWs EINVAL Tell - default THROWs EINVAL Size - default THROWs EINVAL</p>
<p >caller must call Seek between read and write if switching directions on an updatable file, even if it's Seek(file, 0, FFS_CURRENT). Otherwise results are undefined, and no error will be issued. (this might be fixable)</p>
<p >Read/Write doesn't specify Create/Replace/Preserve/Exist modes; this is potentially complicated but should be sorted out at least as far as stdio works; "r+b" v "w+b" v "a+b" all do different things</p>
<p >Locking is completely undefined. We should assume exclusive access, and should guarantee exclusive access where available.</p>
<p >SearchPath may need some attention.</p>
<p >The "high bit" magic trick in ReadUntil needs to be re-evaluated.</p>
<p >Using "New"+mode for all constructors is somewhat confusing Open or Create constructors might be appropriate but that could get hectic; Open Create OpenUpdate CreateOrUpdate OpenAppend blah similarly, i prefer separate Seek methods to seek+mode SeekFromStart, SeekFromCurrent SeekFromEnd "candy machine interfaces".</p>
<p >There may be some use for a GetNext v GetBase - get the next one not the bottom one. Also, insert and delete from stack could be interesting.</p>
<hr  />
<p> GetBase is used in One Place... in psimon... no other alternative?</p>
<p >The progress thing could also be done as a filter, instead of...</p>
<p >Some filters could rewind even if they can't seek arbitrarily it could be handy? </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>ffs/<a class="el" href="ffs_8h_source.html">ffs.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_f_fs.html">FFs</a></li>
    <li class="footer">Generated on Mon May 8 2023 15:18:03 for Liberty Systems CentraDoc by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
